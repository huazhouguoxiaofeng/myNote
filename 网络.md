#### MAC地址表

MAC地址与端口的对应关系

| MAC 地址          | 端口 |
| ----------------- | ---- |
| bb-bb-bb-bb-bb-bb | 1    |
| cc-cc-cc-cc-cc-cc | 3    |
| aa-aa-aa-aa-aa-aa | 4    |
| ee-ee-ee-ee-ee-ee | 6    |
| ff-ff-ff-ff-ff-ff | 6    |
| hh-hh-hh-hh-hh-hh | 6    |

#### 路由表

现在 A 要给 C 发数据包，已经可以成功发到路由器这里了，最后一个问题就是，**路由器怎么知道，收到的这个数据包，该从自己的哪个端口出去**，才能直接（或间接）地最终到达目的地 C 呢。

| 目的地址         | 下一跳        | 端口 |
| ---------------- | ------------- | ---- |
| 192.168.0.0/24   |               | 0    |
| 192.168.0.254/32 |               | 0    |
| 192.168.1.0/24   |               | 1    |
| 192.168.1.254/32 | 192.168.100.5 |      |

#### ARP 协议

IP地址与mac地址的对应关系

假如你（A）此时**不知道**你同伴 B 的 MAC 地址（现实中就是不知道的，刚刚我们只是假设已知），你只知道它的 IP 地址，你该怎么把数据包准确传给 B 呢？

答案很简单，在网络层，**我需要把 IP 地址对应的 MAC 地址找到**，也就是通过某种方式，找到 **192.168.0.2** 对应的 MAC 地址 **BBBB**。

这种方式就是 **arp 协议**，同时电脑 A 和 B 里面也会有一张 **arp 缓存表**，表中记录着 **IP 与 MAC 地址**的对应关系。

| IP 地址     | MAC 地址 |
| ----------- | -------- |
| 192.168.0.2 | BBBB     |